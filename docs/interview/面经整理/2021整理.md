# 2021面试题整理

## 1. 你了解浏览器的事件循环吗

### 1.1 为什么js在浏览器中有事件循环机制

js是单线程，为了执行异步任务，不阻塞主流程

### 1.2 两种任务有什么？

宏任务：整个代码块，setTimeout,setInterval,I/O操作

微任务：new Promise().then()

### 1.3 为什么引入微任务概念, 只有宏任务可以吗？

宏任务是先进先出，当急任务需要执行的时候，只能从后面添加，最后执行

引入微任务，当一个宏任务执行完成，先检查是否有微任务，先执行微任务，这样就能保证紧急任务优先执行

### 1.4了解node中的事件循环吗，和浏览器的事件循环有什么区别？

node v10及以前：
1. 执行一个阶段的所有任务
2. 执行nextTick队列的内容
3. 执行微任务队列的内容

node v10以后和浏览器统一：
1. 执行完一次宏任务
2. 清空微任务

## 2. 事件的捕获和冒泡

### 2.1 基本概念

捕获：从外向内触发

冒泡：从内向外触发

### 2.2 window.addEventLister 监听的是什么阶段的事件

根据第三个参数判断

该事件依次有三个参数：事件名，函数，默认false(监听阶段true: 捕获, false: 冒泡)

### 2.3 哪些场景会用到这个机制

事件委托

```js
<ul>
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
</ul>
```

## 3 防抖和节流

### 3.1 概念

防抖：频发触发事件，从最后一次触发的事件开始计时，n秒后执行

节流：n秒内触发事件，只执行一次

### 3.2 使用场景

防抖：输入框频发触发接口

节流：resize sroll

## 手写

* 节流
```js
funtion throllte(fn, num) {
    return function() {
        let timer = setTimeout(() =>{

        }, num)
    }
}
```