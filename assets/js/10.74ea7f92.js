(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{164:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("当一个组件想要获取仓库里面的状态，可以在"),s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/computed.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("计算属性"),s("OutboundLink")],1),t._v("中返回某个状态")]),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("页面展示：")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("利用"),s("a",{attrs:{href:"https://github.com/tc39/proposal-object-rest-spread",target:"_blank",rel:"noopener noreferrer"}},[t._v("对象展开运算符"),s("OutboundLink")],1),t._v("将它与局部的计算属性混合在一起")]),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("页面展示：")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),s("p",[t._v("有时候我们需要从 store 中的 state 中派生出一些状态，例如对列表进行过滤并计数")]),t._v(" "),s("p",[t._v("如果有多个组件需要用到此属性，我们要么复制这个函数，或者抽取到一个共享函数然后在多处导入它——无论哪种方式都不是很理想。")]),t._v(" "),s("p",[t._v("此时，getter就像计算属性一样，getter 的返回值会根据它的依赖被缓存起来，且只有当它的依赖值发生了改变才会被重新计算。它接受state作为其第一个参数")]),t._v(" "),t._m(13),t._v(" "),s("p",[t._v("页面展示：")]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("将 store 中的 getter 映射到局部计算属性")]),t._v(" "),t._m(16),t._v(" "),s("p",[t._v("页面展示：")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),s("p",[s("font",{attrs:{color:"#f00"}},[t._v("mutation 都是同步事务")])],1),t._v(" "),s("p",[t._v("更改 Vuex 的 store 中的状态的唯一方法是提交 mutation，它会接受 state 作为第一个参数")]),t._v(" "),t._m(19),t._v(" "),s("p",[t._v("页面展示：点击加减按钮 数字会加减")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),s("p",[t._v("把这些常量放在单独的文件中可以让你的代码合作者对整个 app 包含的 mutation 一目了然")]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),s("p",[t._v("页面展示：")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),s("p",[t._v("Action 类似于 mutation，不同在于：")]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),s("p",[t._v("实践中，我们会经常用到 ES2015 的 "),s("a",{attrs:{href:"https://github.com/lukehoban/es6features#destructuring",target:"_blank",rel:"noopener noreferrer"}},[t._v("参数解构"),s("OutboundLink")],1),t._v(" 来简化代码,特别是我们需要调用 commit 很多次的时候）")]),t._v(" "),t._m(30),t._v(" "),s("p",[t._v("使用 Vuex 并不意味着你需要将所有的状态放入 Vuex。虽然将所有的状态放到 Vuex 会使状态变化更显式和易调试，但也会使代码变得冗长和不直观。如果有些状态严格属于单个组件，最好还是作为组件的局部状态")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"vuex基础实践"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex基础实践","aria-hidden":"true"}},[this._v("#")]),this._v(" vuex基础实践")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概念","aria-hidden":"true"}},[this._v("#")]),this._v(" 概念")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("通过在根实例中注册 "),e("code",[this._v("store")]),this._v(" 选项，该 store 实例会注入到根组件下的所有子组件中，且子组件能通过 "),e("code",[this._v("this.$store")]),this._v(" 访问到仓库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-1.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"state：状态树"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#state：状态树","aria-hidden":"true"}},[this._v("#")]),this._v(" State：状态树")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("通过 "),e("code",[this._v("store.state")]),this._v(" 来获取状态对象，以及通过 "),e("code",[this._v("store.commit")]),this._v(" 方法触发状态变更")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-2.png",alt:"An image"}}),this._v(" "),e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-3.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-4.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"mapstate：-辅助函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapstate：-辅助函数","aria-hidden":"true"}},[this._v("#")]),this._v(" mapState： 辅助函数")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("当一个组件需要获取多个状态时候，将这些状态都声明为计算属性会有些重复和冗余。为了解决这个问题，我们可以使用 "),e("code",[this._v("mapState")]),this._v(" 辅助函数帮助我们生成计算属性")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-5.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-6.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"getter-由state派生的状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getter-由state派生的状态","aria-hidden":"true"}},[this._v("#")]),this._v(" Getter: 由state派生的状态")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-7.png",alt:"An image"}}),this._v(" "),e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-8.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-9.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"mapgetters：辅助函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapgetters：辅助函数","aria-hidden":"true"}},[this._v("#")]),this._v(" mapGetters：辅助函数")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-10.png",alt:"An image"}}),this._v(" "),e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-11.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-12.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"mutation：更改状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mutation：更改状态","aria-hidden":"true"}},[this._v("#")]),this._v(" Mutation：更改状态")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-13.png",alt:"An image"}}),this._v(" "),e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-14.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-15.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"使用常量替代-mutation-事件类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用常量替代-mutation-事件类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用常量替代 Mutation 事件类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("另外：你可以向 "),e("code",[this._v("store.commit")]),this._v(" 传入额外的参数，即 mutation 的 载荷（payload）")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-16.png",alt:"An image"}}),this._v(" "),e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-17.png",alt:"An image"}}),this._v(" "),e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-18.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-19.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"mapmutations：在组件中提交mutations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapmutations：在组件中提交mutations","aria-hidden":"true"}},[this._v("#")]),this._v(" mapMutations：在组件中提交Mutations")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/MY729/BLOG/raw/gh-pages/img/vuex/vuex-20.png",alt:"An image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"action"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#action","aria-hidden":"true"}},[this._v("#")]),this._v(" Action")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Action 提交的是 mutation，而不是直接变更状态。")]),this._v(" "),e("li",[this._v("Action 可以包含任意异步操作。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Action 函数接受一个与 store 实例具有相同方法和属性的 context 对象，因此你可以调用 "),e("code",[this._v("context.commit")]),this._v(" 提交一个 mutation，或者通过 "),e("code",[this._v("context.state")]),this._v(" 和 "),e("code",[this._v("context.getters")]),this._v(" 来获取 state 和 getters")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])}],!1,null,null,null);r.options.__file="vuex基础实践.md";e.default=r.exports}}]);